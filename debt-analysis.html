<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å€ºåŠ¡è‡ªæŸ¥åˆ†æå·¥å…· - å·¥ç¨‹å¸ˆæ€ç»´ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .author-tag {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 15px;
            font-size: 14px;
        }
        
        .main-content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 25px;
            background: #f8f9fa;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 20px;
            margin-bottom: 20px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        
        .debt-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            position: relative;
        }
        
        .debt-item h3 {
            color: #495057;
            margin-bottom: 15px;
        }
        
        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 5px;
            font-weight: bold;
            color: #495057;
        }
        
        .form-group input, .form-group select {
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52,152,219,0.3);
        }
        
        .help-text {
            font-size: 12px;
            color: #666;
            margin-top: 3px;
        }
        
        .auto-calculated {
            background-color: #e8f5e8 !important;
            position: relative;
        }
        
        .auto-calculated::after {
            content: "è‡ªåŠ¨è®¡ç®—";
            position: absolute;
            right: 5px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 10px;
            color: #27ae60;
            font-weight: bold;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            margin: 5px;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: #27ae60;
            color: white;
        }
        
        .btn-success:hover {
            background: #229954;
            transform: translateY(-2px);
        }
        
        .btn-warning {
            background: #f39c12;
            color: white;
        }
        
        .btn-warning:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }
        
        .results {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-top: 30px;
        }
        
        .results h2 {
            color: white;
            border-bottom: 2px solid rgba(255,255,255,0.3);
            text-align: center;
            margin-bottom: 25px;
        }
        
        .result-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .result-item {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .result-item h4 {
            margin-bottom: 10px;
            font-size: 14px;
            opacity: 0.9;
        }
        
        .result-item .value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .risk-level {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            margin-top: 10px;
        }
        
        .risk-low { background: #27ae60; }
        .risk-medium { background: #f39c12; }
        .risk-high { background: #e74c3c; }
        
        .suggestions {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .suggestions h3 {
            margin-bottom: 15px;
        }
        
        .suggestions ul {
            list-style: none;
            padding-left: 0;
        }
        
        .suggestions li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }
        
        .suggestions li:before {
            content: "ğŸ”§";
            position: absolute;
            left: 0;
        }
        
        .policy-match {
            background: rgba(255,255,255,0.15);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .policy-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .cta-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
            margin-top: 30px;
            border-radius: 10px;
        }
        
        .cta-section h2 {
            color: white;
            border: none;
            margin-bottom: 20px;
        }
        
        .price-highlight {
            background: rgba(255,255,255,0.2);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .price-highlight .old-price {
            text-decoration: line-through;
            opacity: 0.7;
            font-size: 18px;
        }
        
        .price-highlight .new-price {
            font-size: 36px;
            font-weight: bold;
            color: #f1c40f;
        }
        
        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .result-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ”§ å€ºåŠ¡è‡ªæŸ¥åˆ†æå·¥å…· - å·¥ç¨‹å¸ˆæ€ç»´ç‰ˆ</h1>
            <p>ç”¨é€ ä»·å¸ˆçš„ç²¾ç¡®æ€ç»´ï¼Œå¸®ä½ é‡åŒ–åˆ†æå€ºåŠ¡é£é™©</p>
            <div class="author-tag">
                by è´Ÿå€ºè·¯ä¸Šçš„å·¥ç¨‹å¸ˆ | 13å¹´é€ ä»·å¸ˆç»éªŒ | å·²å¸®åŠ©200+äººæˆåŠŸå‡è´Ÿ
            </div>
        </div>
        
        <div class="main-content">
            <!-- ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ -->
            <div class="section">
                <h2>ğŸ‘¤ åŸºæœ¬ä¿¡æ¯å¡«å†™</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label>æ‚¨çš„ç§°å‘¼</label>
                        <input type="text" id="userName" placeholder="è¯·è¾“å…¥æ‚¨çš„ç§°å‘¼">
                        <div class="help-text">ç”¨äºä¸ªæ€§åŒ–åˆ†ææŠ¥å‘Š</div>
                    </div>
                    <div class="form-group">
                        <label>æœ€å…³å¿ƒçš„å€ºåŠ¡é—®é¢˜</label>
                        <input type="text" id="mainConcern" placeholder="å¦‚ï¼šä¿¡ç”¨å¡é€¾æœŸã€å‚¬æ”¶éªšæ‰°ã€ä¸çŸ¥å¦‚ä½•åå•†ç­‰">
                        <div class="help-text">å¸®åŠ©æˆ‘ä»¬äº†è§£æ‚¨çš„æ ¸å¿ƒå›°æ‰°</div>
                    </div>
                </div>
            </div>

            <!-- åŸºæœ¬è´¢åŠ¡ä¿¡æ¯ -->
            <div class="section">
                <h2>ğŸ“Š æ”¶æ”¯æƒ…å†µ (è´¢åŠ¡åŸºç¡€æ•°æ®)</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label>æœˆæ”¶å…¥ (å…ƒ)</label>
                        <input type="number" id="monthlyIncome" placeholder="æ‰£é™¤äº”é™©ä¸€é‡‘åçš„å®é™…æ”¶å…¥">
                        <div class="help-text">å¡«å†™åˆ°æ‰‹æ”¶å…¥ï¼Œä¸å«äº”é™©ä¸€é‡‘</div>
                    </div>
                    <div class="form-group">
                        <label>æœˆå¿…è¦æ”¯å‡º (å…ƒ)</label>
                        <input type="number" id="monthlyExpenses" placeholder="æˆ¿ç§Ÿã€ç”Ÿæ´»è´¹ã€å­å¥³æ•™è‚²ç­‰">
                        <div class="help-text">åŸºæœ¬ç”Ÿæ´»å¼€æ”¯ï¼Œä¸å¯å‹ç¼©çš„è´¹ç”¨</div>
                    </div>
                    <div class="form-group">
                        <label>å¯ç”¨äºè¿˜å€ºçš„é’± (å…ƒ)</label>
                        <input type="number" id="availableIncome" placeholder="è‡ªåŠ¨è®¡ç®—" class="auto-calculated" readonly>
                        <div class="help-text">ç³»ç»Ÿè‡ªåŠ¨è®¡ç®—ï¼šæ”¶å…¥-å¿…è¦æ”¯å‡º</div>
                    </div>
                    <div class="form-group">
                        <label>å®¶åº­çŠ¶å†µ</label>
                        <select id="familyStatus">
                            <option value="single">å•èº«</option>
                            <option value="married">å·²å©šæ— å­å¥³</option>
                            <option value="children">å·²å©šæœ‰å­å¥³</option>
                            <option value="elderly">éœ€èµ¡å…»è€äºº</option>
                        </select>
                        <div class="help-text">å½±å“å¿…è¦ç”Ÿæ´»è´¹æ ‡å‡†</div>
                    </div>
                </div>
            </div>

            <!-- å€ºåŠ¡æ¸…å• -->
            <div class="section">
                <h2>ğŸ“‹ å€ºåŠ¡æ¸…å• (BOMææ–™æ¸…å•å¼ç®¡ç†)</h2>
                <p style="color: #666; margin-bottom: 20px;">
                    ğŸ” åƒå·¥ç¨‹ææ–™æ¸…å•ä¸€æ ·ï¼Œé€é¡¹å½•å…¥æ¯ç¬”å€ºåŠ¡çš„è¯¦ç»†ä¿¡æ¯<br>
                    ğŸ’¡ <strong>ç³»ç»Ÿä¼šè‡ªåŠ¨è®¡ç®—åˆ©ç‡å’Œä¼˜å…ˆçº§ï¼Œæ‚¨åªéœ€å¡«å†™åŸºæœ¬ä¿¡æ¯</strong><br>
                    ğŸ¦ <strong>è¯·åŠ¡å¿…å¡«å†™å…·ä½“é“¶è¡Œ/å¹³å°åç§°ï¼Œç³»ç»Ÿå°†ä¸ºæ‚¨åŒ¹é…ä¸“å±åå•†æ”¿ç­–</strong>
                </p>
                <div id="debtsContainer">
                    <!-- å€ºåŠ¡é¡¹ç›®ä¼šåŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
                </div>
                <button class="btn btn-primary" onclick="addDebtItem()">+ æ·»åŠ å€ºåŠ¡é¡¹ç›®</button>
            </div>

            <!-- åˆ†ææŒ‰é’® -->
            <div style="text-align: center; margin: 30px 0;">
                <button class="btn btn-success" onclick="analyzeDebts()" style="font-size: 18px; padding: 15px 40px;">
                    ğŸ” å¼€å§‹å·¥ç¨‹å¸ˆå¼ç²¾å‡†åˆ†æ
                </button>
            </div>

            <!-- åˆ†æç»“æœ -->
            <div id="analysisResults" style="display: none;">
                <div class="results">
                    <h2>ğŸ“ˆ å€ºåŠ¡å·¥ç¨‹åˆ†ææŠ¥å‘Š</h2>
                    
                    <div class="result-grid">
                        <div class="result-item">
                            <h4>æ€»å…±æ¬ å¤šå°‘é’±</h4>
                            <div class="value" id="totalDebt">0</div>
                            <small>å…ƒ</small>
                        </div>
                        <div class="result-item">
                            <h4>æ¯æœˆè¦è¿˜å¤šå°‘</h4>
                            <div class="value" id="totalMonthlyPayment">0</div>
                            <small>å…ƒ</small>
                        </div>
                        <div class="result-item">
                            <h4>è´Ÿå€ºä¸¥é‡ç¨‹åº¦</h4>
                            <div class="value" id="debtSeverity">æ­£å¸¸</div>
                            <small></small>
                        </div>
                        <div class="result-item">
                            <h4>å¹³å‡å¹´åˆ©ç‡</h4>
                            <div class="value" id="avgInterestRate">0</div>
                            <small>%</small>
                        </div>
                        <div class="result-item">
                            <h4>è¿˜æ¬¾å‹åŠ›æŒ‡æ•°</h4>
                            <div class="value" id="paymentPressure">0</div>
                            <small>%</small>
                        </div>
                        <div class="result-item">
                            <h4>å€ºåŠ¡å±é™©ç¨‹åº¦</h4>
                            <div class="value">
                                <span id="riskLevel" class="risk-level">è¯„ä¼°ä¸­</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æ–°å¢å€ºåŠ¡äººå…³å¿ƒçš„è¯¦ç»†ä¿¡æ¯ -->
                    <div class="result-grid" style="margin-top: 20px;">
                        <div class="result-item">
                            <h4>æ¯å¹´åˆ©æ¯æ”¯å‡º</h4>
                            <div class="value" id="yearlyInterest">0</div>
                            <small>å…ƒ</small>
                        </div>
                        <div class="result-item">
                            <h4>æœ€é•¿é€¾æœŸæ—¶é—´</h4>
                            <div class="value" id="maxOverdueDays">0</div>
                            <small>å¤©</small>
                        </div>
                        <div class="result-item">
                            <h4>æœ€é«˜åˆ©ç‡å€ºåŠ¡</h4>
                            <div class="value" id="highestRate">0</div>
                            <small>%</small>
                        </div>
                        <div class="result-item">
                            <h4>é¢„è®¡è¿˜æ¸…æ—¶é—´</h4>
                            <div class="value" id="payoffTime">è®¡ç®—ä¸­</div>
                            <small></small>
                        </div>
                    </div>

                    <!-- é“¶è¡Œæ”¿ç­–åŒ¹é… -->
                    <div class="policy-match">
                        <h3>ğŸ¦ é€‚ç”¨æ”¿ç­–å‚è€ƒ</h3>
                        <div id="policyList">
                            <!-- æ”¿ç­–ä¼šåŠ¨æ€ç”Ÿæˆ -->
                        </div>
                    </div>

                    <div class="suggestions">
                        <h3>ğŸ”§ å·¥ç¨‹å¸ˆå»ºè®®æ–¹æ¡ˆ</h3>
                        <ul id="suggestionsList">
                            <!-- å»ºè®®ä¼šåŠ¨æ€ç”Ÿæˆ -->
                        </ul>
                    </div>
                </div>

                <!-- å¼•æµCTA -->
                <div class="cta-section">
                    <h2>ğŸ“ æƒ³è¦ç³»ç»Ÿå­¦ä¹ å€ºåŠ¡åå•†æŠ€å·§ï¼Ÿ</h2>
                    <p style="font-size: 18px; margin-bottom: 20px;">
                        å¦‚æœåˆ†æç»“æœæ˜¾ç¤ºéœ€è¦åå•†ï¼Œæˆ‘ä»¬æä¾›å®Œæ•´çš„å­¦ä¹ æ–¹æ¡ˆ
                    </p>
                    
                    <div class="price-highlight">
                        <p>ã€Šå€ºåŠ¡åå•†å®æˆ˜è¯¾ç¨‹ã€‹- å·¥ç¨‹å¸ˆçš„ç³»ç»ŸåŒ–è§£å†³æ–¹æ¡ˆ</p>
                        <div>
                            <span class="old-price">åŸä»· 1998å…ƒ</span>
                            <br>
                            <span class="new-price">é™æ—¶ç‰¹ä»· 998å…ƒ</span>
                        </div>
                        <p style="margin-top: 15px;">
                            ğŸ’¡ 13å¹´é€ ä»·å¸ˆç»éªŒ + çœŸå®è´Ÿå€ºç»å† + 200+æˆåŠŸæ¡ˆä¾‹<br>
                            ğŸ”§ 6æ­¥æ ‡å‡†åå•†æµç¨‹ + é“¶è¡Œå†…éƒ¨é€»è¾‘ + å®æˆ˜è¯æœ¯æ¨¡æ¿<br>
                            ğŸ“‹ åˆåŒåˆ†æå·¥å…· + åˆ©ç‡è®¡ç®—è¡¨ + é£é™©é˜²æ§é¢„æ¡ˆ
                        </p>
                    </div>
                    
                    <button class="btn btn-warning" style="font-size: 20px; padding: 20px 50px;">
                        äº†è§£è¯¦ç»†è¯¾ç¨‹å†…å®¹
                    </button>
                    
                    <p style="margin-top: 20px; font-size: 14px; opacity: 0.8;">
                        ğŸ’ª ä¸æ˜¯ä»£åŠï¼Œæ˜¯æ•™ä¼šä½ æ–¹æ³• | ä¸€æ¬¡å­¦ä¹ ï¼Œç»ˆèº«å—ç”¨
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script>
        let debtCounter = 0;
        
        // å€ºåŠ¡ç±»å‹å¯¹åº”çš„æ ‡å‡†åˆ©ç‡ (å¹´åŒ–åˆ©ç‡)
        const standardRates = {
            'credit-card': 18.5,      // ä¿¡ç”¨å¡
            'online-loan': 24.0,      // ç½‘è´·å¹³å°
            'bank-loan': 12.0,        // é“¶è¡Œè´·æ¬¾
            'housing-loan': 4.9,      // æˆ¿è´·
            'car-loan': 8.5,          // è½¦è´·
            'business-loan': 15.0,    // ç»è¥è´·
            'private-loan': 30.0,     // æ°‘é—´å€Ÿè´·
            'other': 20.0             // å…¶ä»–
        };
        
        // é“¶è¡Œæ”¿ç­–åº“ - æ‰©å±•æ›´å¤šå…·ä½“é“¶è¡Œ
        const bankPolicies = {
            // ä¿¡ç”¨å¡ç±»
            'å·¥è¡Œ': {
                name: 'å·¥å•†é“¶è¡Œä¿¡ç”¨å¡',
                policy: 'åœæ¯æŒ‚è´¦æœ€é•¿60æœŸï¼Œéœ€æä¾›å›°éš¾è¯æ˜å’Œæ”¶å…¥è¯æ˜',
                condition: 'é€¾æœŸ3ä¸ªæœˆä»¥ä¸Šï¼Œæœ‰ç¨³å®šè¿˜æ¬¾èƒ½åŠ›',
                tips: 'å·¥è¡Œæ”¿ç­–ç›¸å¯¹ä¸¥æ ¼ï¼Œéœ€è¦æä¾›è¯¦ç»†çš„å›°éš¾è¯æ˜ææ–™'
            },
            'å»ºè¡Œ': {
                name: 'å»ºè®¾é“¶è¡Œä¿¡ç”¨å¡', 
                policy: 'ä¸ªæ€§åŒ–åˆ†æœŸæœ€é•¿60æœŸï¼Œå¯å‡å…éƒ¨åˆ†è¿çº¦é‡‘',
                condition: 'ä¸»åŠ¨è”ç³»ï¼Œæ€åº¦è¯šæ³ï¼Œæä¾›åˆç†è¿˜æ¬¾è®¡åˆ’',
                tips: 'å»ºè¡Œæ¯”è¾ƒäººæ€§åŒ–ï¼Œä¸»åŠ¨æ²Ÿé€šæˆåŠŸç‡è¾ƒé«˜'
            },
            'æ‹›è¡Œ': {
                name: 'æ‹›å•†é“¶è¡Œä¿¡ç”¨å¡',
                policy: 'åœæ¯åˆ†æœŸ12-60æœŸï¼Œæ”¿ç­–ç›¸å¯¹çµæ´»',
                condition: 'ç¡®æœ‰å›°éš¾ï¼Œéæ¶æ„é€¾æœŸï¼Œæœ‰è¿˜æ¬¾æ„æ„¿',
                tips: 'æ‹›è¡Œåå•†éš¾åº¦ä¸­ç­‰ï¼Œéœ€è¦å±•ç°è¿˜æ¬¾è¯šæ„'
            },
            'ä¸­è¡Œ': {
                name: 'ä¸­å›½é“¶è¡Œä¿¡ç”¨å¡',
                policy: 'æœ€é•¿å¯ç”³è¯·60æœŸåˆ†æœŸï¼Œåˆ©æ¯å¯åå•†',
                condition: 'æä¾›å›°éš¾è¯æ˜ï¼Œä¸»åŠ¨ç”³è¯·åå•†',
                tips: 'ä¸­è¡Œæµç¨‹è¾ƒæ­£è§„ï¼ŒæŒ‰æµç¨‹æ“ä½œæˆåŠŸç‡é«˜'
            },
            'å†œè¡Œ': {
                name: 'å†œä¸šé“¶è¡Œä¿¡ç”¨å¡',
                policy: 'åœæ¯æŒ‚è´¦12-60æœŸï¼Œéœ€è¦é¢è°ˆ',
                condition: 'åˆ°é“¶è¡Œç½‘ç‚¹é¢è°ˆï¼Œæä¾›ç›¸å…³è¯æ˜',
                tips: 'å†œè¡Œå–œæ¬¢é¢å¯¹é¢æ²Ÿé€šï¼Œå»ºè®®æœ¬äººåˆ°ç½‘ç‚¹'
            },
            'äº¤è¡Œ': {
                name: 'äº¤é€šé“¶è¡Œä¿¡ç”¨å¡',
                policy: 'ä¸ªæ€§åŒ–åˆ†æœŸæœ€é•¿48æœŸ',
                condition: 'é€¾æœŸåä¸»åŠ¨è”ç³»ï¼Œè¯´æ˜å›°éš¾æƒ…å†µ',
                tips: 'äº¤è¡Œæ”¿ç­–è¾ƒä¸ºçµæ´»ï¼Œåå•†æˆåŠŸç‡è¾ƒé«˜'
            },
            'å¹³å®‰': {
                name: 'å¹³å®‰é“¶è¡Œä¿¡ç”¨å¡',
                policy: 'åœæ¯åˆ†æœŸ12-60æœŸï¼Œå¯å‡å…è¿çº¦é‡‘',
                condition: 'æä¾›å›°éš¾è¯æ˜ï¼Œåˆ¶å®šè¿˜æ¬¾è®¡åˆ’',
                tips: 'å¹³å®‰é“¶è¡Œè¾ƒå¥½åå•†ï¼Œæ”¿ç­–ç›¸å¯¹å®½æ¾'
            },
            'æµ¦å‘': {
                name: 'æµ¦å‘é“¶è¡Œä¿¡ç”¨å¡',
                policy: 'æœ€é•¿60æœŸåˆ†æœŸï¼Œéƒ¨åˆ†åˆ©æ¯å¯å‡å…',
                condition: 'ä¸»åŠ¨åå•†ï¼Œæä¾›æ”¶å…¥è¯æ˜',
                tips: 'æµ¦å‘éœ€è¦å¤šæ¬¡æ²Ÿé€šï¼ŒåšæŒåå•†å¾ˆé‡è¦'
            },
            'æ°‘ç”Ÿ': {
                name: 'æ°‘ç”Ÿé“¶è¡Œä¿¡ç”¨å¡',
                policy: 'ä¸ªæ€§åŒ–åˆ†æœŸ24-60æœŸ',
                condition: 'ç¡®æœ‰å›°éš¾ï¼Œéæ¶æ„é€¾æœŸ',
                tips: 'æ°‘ç”Ÿé“¶è¡Œäººæ€§åŒ–ç¨‹åº¦è¾ƒé«˜'
            },
            'å…‰å¤§': {
                name: 'å…‰å¤§é“¶è¡Œä¿¡ç”¨å¡',
                policy: 'åœæ¯æŒ‚è´¦æœ€é•¿60æœŸ',
                condition: 'é€¾æœŸ3ä¸ªæœˆä»¥ä¸Šï¼Œä¸»åŠ¨ç”³è¯·',
                tips: 'å…‰å¤§é“¶è¡Œæµç¨‹è¾ƒå¿«ï¼Œå®¡æ‰¹æ•ˆç‡é«˜'
            },
            
            // ç½‘è´·å¹³å°ç±»
            'èš‚èšå€Ÿå‘—': {
                name: 'èš‚èšå€Ÿå‘—',
                policy: 'å¯ç”³è¯·å»¶æœŸè¿˜æ¬¾ï¼Œæœ€é•¿12ä¸ªæœˆ',
                condition: 'å› ç–«æƒ…ç­‰ç‰¹æ®Šæƒ…å†µå½±å“æ”¶å…¥',
                tips: 'æ”¯ä»˜å®APPå†…ç”³è¯·ï¼Œéœ€è¦æä¾›å›°éš¾è¯æ˜'
            },
            'å¾®ç²’è´·': {
                name: 'å¾®ç²’è´·',
                policy: 'æ”¯æŒåå•†è¿˜æ¬¾ï¼Œå¯å‡å…éƒ¨åˆ†åˆ©æ¯',
                condition: 'ä¸»åŠ¨è”ç³»å®¢æœï¼Œæä¾›å›°éš¾è¯æ˜',
                tips: 'å¾®ä¿¡å†…è”ç³»å®¢æœï¼Œæ€åº¦è¦è¯šæ³'
            },
            'äº¬ä¸œé‡‘æ¡': {
                name: 'äº¬ä¸œé‡‘æ¡',
                policy: 'å¯ç”³è¯·åˆ†æœŸå‡å…ï¼Œå»¶é•¿è¿˜æ¬¾æœŸ',
                condition: 'éæ¶æ„é€¾æœŸï¼Œæœ‰è¿˜æ¬¾æ„æ„¿',
                tips: 'äº¬ä¸œAPPå†…ç”³è¯·ï¼Œå®¢æœå“åº”è¾ƒå¿«'
            },
            'ç¾å›¢å€Ÿé’±': {
                name: 'ç¾å›¢å€Ÿé’±',
                policy: 'æ”¯æŒå›°éš¾å‡å…ç”³è¯·',
                condition: 'æä¾›å›°éš¾è¯æ˜ææ–™',
                tips: 'ç¾å›¢APPå†…ç”³è¯·ï¼Œå®¡æ ¸è¾ƒä¸¥æ ¼'
            },
            '360å€Ÿæ¡': {
                name: '360å€Ÿæ¡',
                policy: 'å¯åå•†æœ¬é‡‘åˆ†æœŸï¼Œå‡å…åˆ©æ¯',
                condition: 'ä¸»åŠ¨åå•†ï¼Œéæ¶æ„é€¾æœŸ',
                tips: '360å¹³å°è¾ƒå¥½åå•†ï¼ŒæˆåŠŸç‡è¾ƒé«˜'
            },
            
            // å…¶ä»–ç±»å‹
            'æˆ¿è´·': {
                name: 'æˆ¿è´·æ”¿ç­–',
                policy: 'å¯ç”³è¯·å»¶æœŸè¿˜æ¬¾3-6ä¸ªæœˆï¼Œé¿å…æˆ¿å±‹æ‹å–',
                condition: 'ä¸»åŠ¨è”ç³»é“¶è¡Œï¼Œè¯´æ˜å›°éš¾æƒ…å†µ',
                tips: 'æˆ¿è´·æ˜¯æŠµæŠ¼è´·æ¬¾ï¼Œé“¶è¡Œæ›´æ„¿æ„åå•†é¿å…æ‹å–æŸå¤±'
            },
            'è½¦è´·': {
                name: 'è½¦è´·æ”¿ç­–',
                policy: 'å¯åå•†å»¶æœŸæˆ–é™ä½æœˆä¾›',
                condition: 'æä¾›å›°éš¾è¯æ˜ï¼Œåˆ¶å®šè¿˜æ¬¾è®¡åˆ’',
                tips: 'è½¦è´·é€¾æœŸæ—¶é—´é•¿å¯èƒ½é¢ä¸´è½¦è¾†è¢«æ‹–èµ°'
            }
        };
        
        // è®¡ç®—å¯ç”¨æ”¶å…¥
        document.getElementById('monthlyIncome').addEventListener('input', calculateAvailableIncome);
        document.getElementById('monthlyExpenses').addEventListener('input', calculateAvailableIncome);
        
        function calculateAvailableIncome() {
            const income = parseFloat(document.getElementById('monthlyIncome').value) || 0;
            const expenses = parseFloat(document.getElementById('monthlyExpenses').value) || 0;
            const available = Math.max(0, income - expenses);
            document.getElementById('availableIncome').value = available;
        }
        
        // æ·»åŠ å€ºåŠ¡é¡¹ç›®
        function addDebtItem() {
            debtCounter++;
            const container = document.getElementById('debtsContainer');
            const debtItem = document.createElement('div');
            debtItem.className = 'debt-item';
            debtItem.id = `debt-${debtCounter}`;
            
            debtItem.innerHTML = `
                <button class="remove-btn" onclick="removeDebtItem(${debtCounter})">&times;</button>
                <h3>å€ºåŠ¡é¡¹ç›® ${debtCounter}</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label>å€ºæƒæœºæ„ç±»å‹</label>
                        <select class="debt-type" onchange="updateRate(this, ${debtCounter})">
                            <option value="credit-card">ä¿¡ç”¨å¡ (å¹´åŒ–çº¦18.5%)</option>
                            <option value="online-loan">ç½‘è´·å¹³å° (å¹´åŒ–çº¦24%)</option>
                            <option value="bank-loan">é“¶è¡Œè´·æ¬¾ (å¹´åŒ–çº¦12%)</option>
                            <option value="housing-loan">æˆ¿è´· (å¹´åŒ–çº¦4.9%)</option>
                            <option value="car-loan">è½¦è´· (å¹´åŒ–çº¦8.5%)</option>
                            <option value="business-loan">ç»è¥è´· (å¹´åŒ–çº¦15%)</option>
                            <option value="private-loan">æ°‘é—´å€Ÿè´· (å¹´åŒ–çº¦30%)</option>
                            <option value="other">å…¶ä»– (å¹´åŒ–çº¦20%)</option>
                        </select>
                        <div class="help-text">é€‰æ‹©å€ºåŠ¡ç±»å‹ï¼Œç³»ç»Ÿè‡ªåŠ¨åŒ¹é…æ ‡å‡†åˆ©ç‡</div>
                    </div>
                    <div class="form-group">
                        <label>å…·ä½“æœºæ„åç§° â­</label>
                        <input type="text" class="debt-bank" placeholder="å¦‚ï¼šå·¥è¡Œä¿¡ç”¨å¡ã€æ‹›è¡Œä¿¡ç”¨å¡ã€èš‚èšå€Ÿå‘—">
                        <div class="help-text">é‡è¦ï¼šå¡«å†™å…·ä½“åç§°å¯è·å¾—ä¸“å±åå•†æ”¿ç­–</div>
                    </div>
                    <div class="form-group">
                        <label>æ¬ æ¬¾æ€»é¢ (å…ƒ)</label>
                        <input type="number" class="debt-principal" placeholder="å½“å‰æ€»æ¬ æ¬¾">
                        <div class="help-text">åŒ…å«æœ¬é‡‘+åˆ©æ¯+è¿çº¦é‡‘</div>
                    </div>
                    <div class="form-group">
                        <label>é¢„è®¡å¹´åˆ©ç‡ (%)</label>
                        <input type="number" class="debt-rate" placeholder="è‡ªåŠ¨å¡«å…¥" step="0.01" class="auto-calculated" readonly>
                        <div class="help-text">ç³»ç»Ÿæ ¹æ®å€ºåŠ¡ç±»å‹è‡ªåŠ¨å¡«å…¥</div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>å½“å‰æœˆä¾› (å…ƒ)</label>
                        <input type="number" class="monthly-payment" placeholder="å½“å‰æ¯æœˆè¿˜æ¬¾é¢">
                        <div class="help-text">å¡«0è¡¨ç¤ºå·²åœæ­¢è¿˜æ¬¾</div>
                    </div>
                    <div class="form-group">
                        <label>é€¾æœŸçŠ¶æ€</label>
                        <select class="overdue-status">
                            <option value="normal">æ­£å¸¸è¿˜æ¬¾</option>
                            <option value="overdue-1">é€¾æœŸ1-30å¤©</option>
                            <option value="overdue-2">é€¾æœŸ31-90å¤©</option>
                            <option value="overdue-3">é€¾æœŸ91-180å¤©</option>
                            <option value="overdue-6">é€¾æœŸè¶…è¿‡180å¤©</option>
                        </select>
                        <div class="help-text">å½±å“åå•†éš¾åº¦å’Œä¼˜å…ˆçº§</div>
                    </div>
                    <div class="form-group">
                        <label>åå•†éš¾åº¦</label>
                        <input type="text" class="negotiate-difficulty" placeholder="è‡ªåŠ¨è¯„ä¼°" class="auto-calculated" readonly>
                        <div class="help-text">ç³»ç»Ÿæ ¹æ®å€ºåŠ¡ç±»å‹å’Œé€¾æœŸæƒ…å†µè‡ªåŠ¨è¯„ä¼°</div>
                    </div>
                    <div class="form-group">
                        <label>å¤„ç†ä¼˜å…ˆçº§</label>
                        <input type="text" class="priority" placeholder="è‡ªåŠ¨è¯„ä¼°" class="auto-calculated" readonly>
                        <div class="help-text">ç³»ç»Ÿæ ¹æ®é£é™©ç¨‹åº¦è‡ªåŠ¨æ’åº</div>
                    </div>
                </div>
            `;
            
            container.appendChild(debtItem);
            
            // è‡ªåŠ¨å¡«å…¥åˆ©ç‡å’Œè¯„ä¼°éš¾åº¦ä¼˜å…ˆçº§
            updateRate(debtItem.querySelector('.debt-type'), debtCounter);
        }
        
        // æ›´æ–°åˆ©ç‡å’Œè‡ªåŠ¨è¯„ä¼°
        function updateRate(selectElement, debtId) {
            const debtType = selectElement.value;
            const debtItem = document.getElementById(`debt-${debtId}`);
            
            // è‡ªåŠ¨å¡«å…¥åˆ©ç‡
            const rateInput = debtItem.querySelector('.debt-rate');
            rateInput.value = standardRates[debtType];
            
            // è‡ªåŠ¨è¯„ä¼°åå•†éš¾åº¦
            const difficultyInput = debtItem.querySelector('.negotiate-difficulty');
            const overdueStatus = debtItem.querySelector('.overdue-status').value;
            
            let difficulty = 'å®¹æ˜“';
            if (debtType === 'online-loan' || debtType === 'private-loan') {
                difficulty = 'å›°éš¾';
            } else if (debtType === 'credit-card' && overdueStatus !== 'normal') {
                difficulty = 'ä¸­ç­‰';
            }
            difficultyInput.value = difficulty;
            
            // è‡ªåŠ¨è¯„ä¼°ä¼˜å…ˆçº§
            const priorityInput = debtItem.querySelector('.priority');
            let priority = 'ä¸­';
            if (debtType === 'housing-loan' || debtType === 'credit-card') {
                priority = 'é«˜ (å½±å“å¾ä¿¡)';
            } else if (debtType === 'private-loan') {
                priority = 'ä½ (åå•†ç©ºé—´å¤§)';
            }
            priorityInput.value = priority;
        }
        
        // åˆ é™¤å€ºåŠ¡é¡¹ç›®
        function removeDebtItem(id) {
            const item = document.getElementById(`debt-${id}`);
            if (item) {
                item.remove();
            }
        }
        
        // åŒ¹é…é“¶è¡Œæ”¿ç­– - æ ¹æ®ç”¨æˆ·å¡«å†™çš„å…·ä½“é“¶è¡ŒåŒ¹é…
        function matchBankPolicies(debts) {
            const matchedPolicies = [];
            const processedBanks = new Set();
            
            debts.forEach(debt => {
                const bankName = debt.querySelector('.debt-bank').value.trim();
                const debtType = debt.querySelector('.debt-type').value;
                
                if (bankName) {
                    // å°è¯•åŒ¹é…å…·ä½“é“¶è¡Œåç§°
                    let matchedBank = null;
                    
                    // æ£€æŸ¥æ˜¯å¦åŒ…å«é“¶è¡Œå…³é”®è¯
                    for (const [key, policy] of Object.entries(bankPolicies)) {
                        if (bankName.includes(key) || bankName.toLowerCase().includes(key.toLowerCase())) {
                            if (!processedBanks.has(key)) {
                                matchedBank = policy;
                                processedBanks.add(key);
                                break;
                            }
                        }
                    }
                    
                    // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°å…·ä½“é“¶è¡Œï¼Œæ ¹æ®å€ºåŠ¡ç±»å‹æä¾›é€šç”¨å»ºè®®
                    if (!matchedBank && !processedBanks.has(debtType)) {
                        switch(debtType) {
                            case 'credit-card':
                                matchedBank = {
                                    name: 'ä¿¡ç”¨å¡é€šç”¨æ”¿ç­–',
                                    policy: 'å¤§éƒ¨åˆ†é“¶è¡Œæ”¯æŒåœæ¯æŒ‚è´¦12-60æœŸ',
                                    condition: 'é€¾æœŸ3ä¸ªæœˆä»¥ä¸Šï¼Œä¸»åŠ¨ç”³è¯·åå•†',
                                    tips: 'ä¸åŒé“¶è¡Œæ”¿ç­–å·®å¼‚è¾ƒå¤§ï¼Œå»ºè®®å¤šæ¬¡å°è¯•'
                                };
                                break;
                            case 'online-loan':
                                matchedBank = {
                                    name: 'ç½‘è´·å¹³å°é€šç”¨',
                                    policy: 'å¤šæ•°å¹³å°æ”¯æŒåå•†è¿˜æœ¬é‡‘ï¼Œå‡å…åˆ©æ¯',
                                    condition: 'å¼ºè°ƒæ³•å¾‹æ¡æ–‡ï¼Œæ€åº¦è¦åšå†³',
                                    tips: 'ç½‘è´·åå•†æˆåŠŸç‡è¾ƒé«˜ï¼Œå…³é”®æ˜¯è¦ä¸»åŠ¨è”ç³»'
                                };
                                break;
                            case 'housing-loan':
                                matchedBank = bankPolicies['æˆ¿è´·'];
                                break;
                            case 'car-loan':
                                matchedBank = bankPolicies['è½¦è´·'];
                                break;
                        }
                        if (matchedBank) {
                            processedBanks.add(debtType);
                        }
                    }
                    
                    if (matchedBank) {
                        matchedPolicies.push(matchedBank);
                    }
                }
            });
            
            return matchedPolicies;
        }
        
        // æ˜¾ç¤ºé“¶è¡Œæ”¿ç­–
        function displayPolicies(policies) {
            const policyList = document.getElementById('policyList');
            policyList.innerHTML = '';
            
            if (policies.length === 0) {
                policyList.innerHTML = '<p>ğŸ’¡ è¯·åœ¨å€ºåŠ¡æ¸…å•ä¸­å¡«å†™å…·ä½“çš„é“¶è¡Œæˆ–å¹³å°åç§°ï¼Œç³»ç»Ÿå°†ä¸ºæ‚¨åŒ¹é…ç›¸åº”çš„åå•†æ”¿ç­–</p>';
                return;
            }
            
            policies.forEach(policy => {
                const policyItem = document.createElement('div');
                policyItem.className = 'policy-item';
                policyItem.innerHTML = `
                    <h4>ğŸ¦ ${policy.name}</h4>
                    <p><strong>ğŸ“‹ åå•†æ”¿ç­–ï¼š</strong>${policy.policy}</p>
                    <p><strong>âœ… ç”³è¯·æ¡ä»¶ï¼š</strong>${policy.condition}</p>
                    <p><strong>ğŸ’¡ å®ç”¨æç¤ºï¼š</strong>${policy.tips}</p>
                `;
                policyList.appendChild(policyItem);
            });
        }
        
        // åˆ†æå€ºåŠ¡
        function analyzeDebts() {
            const userName = document.getElementById('userName').value || 'æœ‹å‹';
            const monthlyIncome = parseFloat(document.getElementById('monthlyIncome').value) || 0;
            const monthlyExpenses = parseFloat(document.getElementById('monthlyExpenses').value) || 0;
            const availableIncome = parseFloat(document.getElementById('availableIncome').value) || 0;
            
            if (monthlyIncome === 0) {
                alert('è¯·å…ˆå¡«å†™æ”¶æ”¯æƒ…å†µ');
                return;
            }
            
            const debtItems = document.querySelectorAll('.debt-item');
            if (debtItems.length === 0) {
                alert('è¯·è‡³å°‘æ·»åŠ ä¸€é¡¹å€ºåŠ¡ä¿¡æ¯');
                return;
            }
            
            let totalDebt = 0;
            let totalMonthlyPayment = 0;
            let weightedRate = 0;
            let overdueDebts = 0;
            let maxOverdueDays = 0;
            let highestRate = 0;
            
            debtItems.forEach(item => {
                const principal = parseFloat(item.querySelector('.debt-principal').value) || 0;
                const rate = parseFloat(item.querySelector('.debt-rate').value) || 0;
                const monthlyPayment = parseFloat(item.querySelector('.monthly-payment').value) || 0;
                const overdueStatus = item.querySelector('.overdue-status').value;
                
                totalDebt += principal;
                totalMonthlyPayment += monthlyPayment;
                weightedRate += (principal * rate);
                
                // è®¡ç®—æœ€é«˜åˆ©ç‡
                if (rate > highestRate) {
                    highestRate = rate;
                }
                
                // è®¡ç®—æœ€é•¿é€¾æœŸæ—¶é—´
                if (overdueStatus !== 'normal') {
                    overdueDebts++;
                    let days = 0;
                    switch(overdueStatus) {
                        case 'overdue-1': days = 15; break;
                        case 'overdue-2': days = 60; break;
                        case 'overdue-3': days = 135; break;
                        case 'overdue-6': days = 270; break;
                    }
                    if (days > maxOverdueDays) {
                        maxOverdueDays = days;
                    }
                }
            });
            
            const avgInterestRate = totalDebt > 0 ? (weightedRate / totalDebt).toFixed(1) : 0;
            const yearlyIncome = monthlyIncome * 12;
            const debtToIncomeRatio = yearlyIncome > 0 ? (totalDebt / yearlyIncome) : 0;
            const paymentPressure = availableIncome > 0 ? ((totalMonthlyPayment / availableIncome) * 100).toFixed(0) : 0;
            const yearlyInterest = (totalDebt * avgInterestRate / 100).toFixed(0);
            
            // è´Ÿå€ºä¸¥é‡ç¨‹åº¦åˆ¤æ–­
            let debtSeverity = 'æ­£å¸¸';
            if (debtToIncomeRatio > 1) {
                debtSeverity = 'æå…¶ä¸¥é‡';
            } else if (debtToIncomeRatio > 0.5) {
                debtSeverity = 'ä¸¥é‡';
            } else if (debtToIncomeRatio > 0.3) {
                debtSeverity = 'ä¸­ç­‰';
            } else if (debtToIncomeRatio > 0.1) {
                debtSeverity = 'è½»å¾®';
            }
            
            // é¢„è®¡è¿˜æ¸…æ—¶é—´ - è€ƒè™‘åœæ­¢è¿˜æ¬¾çš„æƒ…å†µ
            let payoffTime = 'æ— æ³•è®¡ç®—';
            let stoppedPaymentCount = 0;
            
            debtItems.forEach(item => {
                const monthlyPayment = parseFloat(item.querySelector('.monthly-payment').value) || 0;
                if (monthlyPayment === 0) {
                    stoppedPaymentCount++;
                }
            });
            
            if (stoppedPaymentCount > 0) {
                if (stoppedPaymentCount === debtItems.length) {
                    payoffTime = 'å·²å…¨é¢åœæ­¢è¿˜æ¬¾';
                } else {
                    payoffTime = 'éƒ¨åˆ†åœæ­¢è¿˜æ¬¾';
                }
            } else if (availableIncome > 0 && totalDebt > 0 && totalMonthlyPayment > 0) {
                if (totalMonthlyPayment > availableIncome) {
                    payoffTime = 'æœˆä¾›è¶…å‡ºèƒ½åŠ›';
                } else {
                    // ç®€åŒ–è®¡ç®—ï¼šæ€»å€ºåŠ¡é™¤ä»¥æœˆä¾›
                    const months = Math.ceil(totalDebt / totalMonthlyPayment);
                    if (months <= 12) {
                        payoffTime = `çº¦${months}ä¸ªæœˆ`;
                    } else if (months <= 120) {
                        const years = Math.floor(months / 12);
                        const remainingMonths = months % 12;
                        payoffTime = remainingMonths > 0 ? `çº¦${years}å¹´${remainingMonths}ä¸ªæœˆ` : `çº¦${years}å¹´`;
                    } else {
                        payoffTime = 'è¶…è¿‡10å¹´';
                    }
                }
            }
            
            // é£é™©è¯„ä¼°
            let riskLevel = 'low';
            let riskClass = 'risk-low';
            let riskText = 'è¾ƒå®‰å…¨';
            
            if (paymentPressure > 80 || debtToIncomeRatio > 0.5 || overdueDebts > 2) {
                riskLevel = 'high';
                riskClass = 'risk-high';
                riskText = 'é«˜å±é™©';
            } else if (paymentPressure > 50 || debtToIncomeRatio > 0.3 || overdueDebts > 0) {
                riskLevel = 'medium';
                riskClass = 'risk-medium';
                riskText = 'éœ€æ³¨æ„';
            }
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('totalDebt').textContent = totalDebt.toLocaleString();
            document.getElementById('totalMonthlyPayment').textContent = totalMonthlyPayment.toLocaleString();
            document.getElementById('debtSeverity').textContent = debtSeverity;
            document.getElementById('avgInterestRate').textContent = avgInterestRate;
            document.getElementById('paymentPressure').textContent = paymentPressure;
            document.getElementById('yearlyInterest').textContent = parseInt(yearlyInterest).toLocaleString();
            document.getElementById('maxOverdueDays').textContent = maxOverdueDays;
            document.getElementById('highestRate').textContent = highestRate;
            document.getElementById('payoffTime').textContent = payoffTime;
            
            const riskElement = document.getElementById('riskLevel');
            riskElement.textContent = riskText;
            riskElement.className = `risk-level ${riskClass}`;
            
            // ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®®
            generateSuggestions(userName, riskLevel, paymentPressure, debtSeverity, overdueDebts, avgInterestRate, debtToIncomeRatio);
            
            // åŒ¹é…é“¶è¡Œæ”¿ç­–
            const policies = matchBankPolicies(debtItems);
            displayPolicies(policies);
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('analysisResults').style.display = 'block';
            document.getElementById('analysisResults').scrollIntoView({ behavior: 'smooth' });
        }
        
        // ç”Ÿæˆä¸ªæ€§åŒ–å»ºè®® - æ›´å¥½åœ°æŠ“ä½ç”¨æˆ·ç—›ç‚¹
        function generateSuggestions(userName, riskLevel, paymentPressure, debtSeverity, overdueDebts, avgRate, debtToIncomeRatio) {
            const suggestionsList = document.getElementById('suggestionsList');
            suggestionsList.innerHTML = '';
            
            const suggestions = [];
            
            // æ£€æŸ¥åœæ­¢è¿˜æ¬¾æƒ…å†µ
            let stoppedPaymentCount = 0;
            const debtItems = document.querySelectorAll('.debt-item');
            debtItems.forEach(item => {
                const monthlyPayment = parseFloat(item.querySelector('.monthly-payment').value) || 0;
                if (monthlyPayment === 0) {
                    stoppedPaymentCount++;
                }
            });
            
            // æ ¹æ®ä¸ªäººç§°å‘¼ä¸ªæ€§åŒ–å¼€å¤´
            if (userName && userName !== 'æœ‹å‹') {
                suggestions.push(`ğŸ‘‹ ${userName}ï¼Œæ ¹æ®æ‚¨çš„å€ºåŠ¡åˆ†æï¼Œæˆ‘ç»™å‡ºä»¥ä¸‹å»ºè®®ï¼š`);
            }
            
            // é’ˆå¯¹åœæ­¢è¿˜æ¬¾çš„ç´§æ€¥å»ºè®®
            if (stoppedPaymentCount > 0) {
                if (stoppedPaymentCount === debtItems.length) {
                    suggestions.push('ğŸš¨ ã€ç´§æ€¥ã€‘æ‚¨å·²å…¨é¢åœæ­¢è¿˜æ¬¾ï¼Œå¾ä¿¡æ­£åœ¨æ¶åŒ–ï¼Œå¿…é¡»ç«‹å³è¡ŒåŠ¨ï¼');
                    suggestions.push('ğŸ“ ã€ç¬¬ä¸€æ­¥ã€‘ä»Šå¤©å°±è”ç³»æ¯å®¶å€ºæƒæ–¹ï¼Œè¯´æ˜å›°éš¾å¹¶æå‡ºåå•†ç”³è¯·');
                    suggestions.push('â° ã€æ—¶é—´çª—å£ã€‘é€¾æœŸæ—¶é—´è¶Šé•¿åå•†éš¾åº¦è¶Šå¤§ï¼ŒæŠ“ç´§æœ€åæœºä¼š');
                } else {
                    suggestions.push('âš ï¸ ã€é£é™©è­¦å‘Šã€‘éƒ¨åˆ†å€ºåŠ¡å·²åœæ­¢è¿˜æ¬¾ï¼Œå¾ä¿¡å—æŸæ­£åœ¨åŠ é‡');
                    suggestions.push('ğŸ¯ ã€ä¼˜å…ˆå¤„ç†ã€‘å…ˆæ¢å¤å½±å“å¾ä¿¡çš„å€ºåŠ¡è¿˜æ¬¾ï¼Œå†å¤„ç†å…¶ä»–å€ºåŠ¡');
                }
            }
            
            // é’ˆå¯¹ä¸åŒé£é™©ç­‰çº§çš„ç—›ç‚¹å»ºè®®
            if (riskLevel === 'high') {
                suggestions.push('ğŸ’¥ ã€å€ºåŠ¡å±æœºã€‘å½“å‰çŠ¶å†µå·²ç»å¾ˆå±é™©ï¼Œä¸èƒ½å†æ‹–å»¶äº†');
                suggestions.push('ğŸ›‘ ã€åœæ­¢æŒ–å‘ã€‘ç«‹å³åœæ­¢æ‰€æœ‰æ–°å€Ÿè´·ï¼Œé¿å…å€ºåŠ¡é›ªçƒè¶Šæ»šè¶Šå¤§');
                suggestions.push('ğŸ’¡ ã€åå•†é‡ç»„ã€‘å°½å¿«å°†é«˜æ¯å€ºåŠ¡åå•†ä¸ºä½æ¯é•¿æœŸåˆ†æœŸ');
                
                if (debtSeverity === 'æå…¶ä¸¥é‡') {
                    suggestions.push('ğŸ¥ ã€è€ƒè™‘ç ´äº§ã€‘å¦‚æœåå•†å¤±è´¥ï¼Œå¯äº†è§£ä¸ªäººç ´äº§åˆ¶åº¦');
                }
            } else if (riskLevel === 'medium') {
                suggestions.push('âš¡ ã€é¢„è­¦ä¿¡å·ã€‘å€ºåŠ¡å‹åŠ›æ­£åœ¨åŠ å¤§ï¼Œéœ€è¦åŠæ—¶è°ƒæ•´ç­–ç•¥');
                suggestions.push('ğŸ“Š ã€é‡æ–°è§„åˆ’ã€‘åˆ¶å®šæ›´ç°å®çš„è¿˜æ¬¾è®¡åˆ’ï¼Œé¿å…æƒ…å†µæ¶åŒ–');
            }
            
            // é’ˆå¯¹é«˜è¿˜æ¬¾å‹åŠ›çš„ç—›ç‚¹
            if (parseInt(paymentPressure) > 80) {
                suggestions.push('ğŸ˜° ã€å‹åŠ›å±±å¤§ã€‘æ¯æœˆè¿˜æ¬¾è¶…å‡ºæ‰¿å—èƒ½åŠ›ï¼Œè¿™æ ·ä¸‹å»ä¼šå´©æºƒ');
                suggestions.push('ğŸ’° ã€é™ä½æœˆä¾›ã€‘ç”³è¯·å»¶é•¿è¿˜æ¬¾æœŸï¼ŒæŠŠæœˆä¾›é™åˆ°èƒ½æ‰¿å—çš„èŒƒå›´');
                suggestions.push('ğŸ’¼ ã€å¼€æºå¢æ”¶ã€‘è€ƒè™‘å…¼èŒæˆ–å‰¯ä¸šï¼Œå“ªæ€•æ¯æœˆå¤šèµš1000ä¹Ÿæ˜¯å¸Œæœ›');
            }
            
            // é’ˆå¯¹é«˜åˆ©ç‡çš„ç—›ç‚¹
            if (avgRate > 24) {
                suggestions.push('ğŸ”¥ ã€åˆ©æ¯åƒäººã€‘å¹³å‡åˆ©ç‡å¤ªé«˜ï¼Œå¤§éƒ¨åˆ†è¿˜æ¬¾éƒ½åœ¨ä»˜åˆ©æ¯');
                suggestions.push('âš–ï¸ã€æ³•å¾‹ç»´æƒã€‘è¶…è¿‡24%çš„åˆ©æ¯å¯ä»¥æ‹’ä»˜ï¼Œè¿™æ˜¯æ³•å¾‹ä¿æŠ¤');
                suggestions.push('ğŸ” ã€åˆåŒæ£€æŸ¥ã€‘ä»”ç»†çœ‹è´·æ¬¾åˆåŒï¼Œå¾ˆå¤šè´¹ç”¨æ˜¯å¯ä»¥äº‰è®®çš„');
            }
            
            // é’ˆå¯¹é€¾æœŸçš„ç—›ç‚¹
            if (overdueDebts > 0) {
                suggestions.push('ğŸ“± ã€å¾ä¿¡å—æŸã€‘é€¾æœŸè®°å½•æ­£åœ¨å½±å“æ‚¨çš„ä¿¡ç”¨ï¼Œè¦å°½å¿«æ­¢æŸ');
                suggestions.push('ğŸ›¡ï¸ ã€åº”å¯¹å‚¬æ”¶ã€‘å­¦ä¼šåˆæ³•åº”å¯¹å‚¬æ”¶ï¼Œä¸è¦è¢«å¨èƒå“å€’');
                suggestions.push('âš¡ ã€æŠ¢æ•‘å¾ä¿¡ã€‘ä¼˜å…ˆè§£å†³ä¸Šå¾ä¿¡çš„é€¾æœŸï¼Œä¿ä½ä¿¡ç”¨åº•çº¿');
            }
            
            // é’ˆå¯¹è´Ÿå€ºä¸¥é‡ç¨‹åº¦çš„å»ºè®®
            if (debtSeverity === 'ä¸¥é‡' || debtSeverity === 'æå…¶ä¸¥é‡') {
                suggestions.push('ğŸ’” ã€ç”Ÿæ´»è‰°éš¾ã€‘å€ºåŠ¡è´Ÿæ‹…è¿™ä¹ˆé‡ï¼Œç”Ÿæ´»å‹åŠ›ä¸€å®šå¾ˆå¤§');
                suggestions.push('ğŸ  ã€è¯„ä¼°èµ„äº§ã€‘çœ‹çœ‹æœ‰æ²¡æœ‰æˆ¿äº§ã€è½¦è¾†ç­‰å¯ä»¥å˜ç°å‡å€º');
                suggestions.push('ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ã€å®¶äººæ”¯æŒã€‘é€‚å½“å‘ŠçŸ¥å®¶äººï¼Œäº‰å–ç†è§£å’Œå¸®åŠ©');
            }
            
            // å®ç”¨æ“ä½œå»ºè®®
            suggestions.push('ğŸ“š ã€å­¦ä¼šåå•†ã€‘æŒæ¡å’Œé“¶è¡Œè°ˆåˆ¤çš„è¯æœ¯ï¼Œè‡ªå·±åå•†çœå‡ ä¸‡ä¸­ä»‹è´¹');
            suggestions.push('ğŸ“Š ã€å»ºç«‹å°è´¦ã€‘è®°å½•æ¯ç¬”å€ºåŠ¡çš„åå•†è¿›å±•ï¼Œé¿å…é—æ¼');
            suggestions.push('ğŸ¯ ã€è®¾å®šç›®æ ‡ã€‘æŠŠå¤§ç›®æ ‡åˆ†è§£æˆå°ç›®æ ‡ï¼Œæ¯æœˆå®Œæˆä¸€ä¸ªå°è¿›æ­¥');
            
            // å¿ƒç†å»ºè®¾å»ºè®®
            if (riskLevel === 'high' || stoppedPaymentCount > 0) {
                suggestions.push('ğŸ’ª ã€åšæŒå¸Œæœ›ã€‘å¾ˆå¤šäººä»æ›´ä¸¥é‡çš„å€ºåŠ¡ä¸­èµ°å‡ºæ¥äº†ï¼Œæ‚¨ä¹Ÿå¯ä»¥');
                suggestions.push('ğŸŒ… ã€ç›¸ä¿¡æ˜å¤©ã€‘å€ºåŠ¡æ˜¯æš‚æ—¶çš„å›°éš¾ï¼Œæ–¹æ³•å¯¹äº†å°±èƒ½è§£å†³');
            }
            
            suggestions.forEach(suggestion => {
                const li = document.createElement('li');
                li.textContent = suggestion;
                suggestionsList.appendChild(li);
            });
        }
        
        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        window.onload = function() {
            addDebtItem(); // é»˜è®¤æ·»åŠ ä¸€ä¸ªå€ºåŠ¡é¡¹ç›®
        };
    </script>
</body>
</html>